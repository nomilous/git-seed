// Generated by CoffeeScript 1.4.0
var GitRepo, GitTree, colors, fs;

fs = require('fs');

colors = require('colors');

GitRepo = require('./git_repo');

GitTree = (function() {

  GitTree.init = function(array, root) {
    var path, repoArray, _i, _len;
    repoArray = [];
    for (_i = 0, _len = array.length; _i < _len; _i++) {
      path = array[_i];
      repoArray.push(GitRepo.init(path));
    }
    return new GitTree(root, repoArray);
  };

  function GitTree(root, list) {
    this.root = root;
    if (list instanceof Array) {
      this.array = list;
    }
  }

  GitTree.prototype.save = function() {
    try {
      return fs.writeFileSync("" + this.root + "/.git_tree", JSON.stringify(this.array, null, 2));
    } catch (error) {
      console.log(error.red);
      throw error;
    }
  };

  return GitTree;

})();

module.exports = GitTree;
