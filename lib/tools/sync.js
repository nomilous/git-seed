// Generated by CoffeeScript 1.4.0
var sync;

module.exports = sync = {
  series: function(targetsArray, functionName, args, finalCallback, stepCallback) {
    var results, target, targets, _i, _len;
    targets = [];
    results = [];
    if (!args) {
      args = [];
    }
    for (_i = 0, _len = targetsArray.length; _i < _len; _i++) {
      target = targetsArray[_i];
      targets.push(target);
    }
    args.push(function(error, result) {
      if (typeof stepCallback === 'function') {
        stepCallback(error, result);
      }
      if (error) {
        finalCallback(error, results);
        return;
      }
      results.push(result);
      return sync.recurse(results, targets, functionName, args, finalCallback);
    });
    return sync.recurse(results, targets, functionName, args, finalCallback);
  },
  recurse: function(results, targets, fname, args, finalCallback) {
    var target;
    target = targets.shift();
    if (!target) {
      finalCallback(null, results);
      return;
    }
    return target[fname].apply(target, args);
  }
};
